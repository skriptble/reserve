<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="The Reserve API's goal is simple: make reserving things simple">
    <meta name="author" content="Kristofer Brandow">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="assets/ico/favicon.png">
    <title>Reserve API</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/skriptble.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="">reserve api</a>
          <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav">
          </ul>
        </div>
      </div> <!-- /container -->
    </div>
    <div class="container">

      <h1>Reserve API</h1>
      <blockquote>Reserving things is difficult. It shouldn't be.</blockquote>
      <p>Every system out there appears to be specialized
        to reserve certain types of things, like hotel rooms, lab equipment, meeting
        spaces, or resources. Many of these systems have awesome features, but they're
        specific to the system. Equipment reservation systems have lab hours, but
        sometimes you want to have studios that are more like hotel rooms than a camera.
        Systems that add that functionality cost substantially more than systems which
        don't have that hotel like interface.</p>
      <p>Even though these expensive systems handle the extra requirements, many of them
        are clunky and an eyesore to look at. The cheaper ones can be just as much of an
        eyesore and they lack features. Additionally, these systems require special hardware or OS
        requirements, many of them that I've found only run on windows. This adds costs,
        makes it harder for smaller organizations to get started, and adds other costs
        like licensing. It's time for some change. It's time to build something we can
        throw on any hardware and scale it up later when we need to. We need a platform
        that we can use to reserve things. Not to reserve hotel rooms or lab equipment,
        just things.
      </p>
      <p>We should be able to plug this system into other systems that exist out there,
        like Wordpress, Drupal, Joomla, Symfony, and eventually Rails, Django, .NET and other non
        PHP systems. An eventual goal of this project would to make a pure C
        implementation of the reserve API, which enables its usage with any language
        that supports C bindings (similar to <a href="http://libgit2.github.com/" target="_blank" title="libgit2">libgit2</a>).
      </p>
    <h2>How do we do it?</h2>
    <p>
Small steps. Pluggable storage, a RESTFUL API, and the other requirements come
after the first step. It needs to reserve stuff. Reserving stuff doesn't simply
mean I say "I want to reserve Camera A from 10:00pm to 1:00am" that a
reservation is made and everything is good. In the least we have to check to
ensure the reservation we request does not interfere with another reservation.
</p>
<p>First let's evaluate when a reservation will not interfere with the reservation
  we are attempting to make. There are two scenarios:
<ul>
  <li>Reservation A's start time is after Reservation B's end time</li>
  <li>Reservation A's end time is before Reservation B's start time</li>
</ul>
</p>

<p>Since the only known reservation is the one we're making (Reservation A), we
  need the second case. To get all the overlaps we flip that non-conflict
  scenarios on their head:
  <ul>
    <li>Reservation A's start time is before Reservation B's end time</li>
    <li>Reservation A's end time is after Reservation B's start time</li>
  </ul>
</p>

<p>This does not assure an overlap though. Using the example reservation we had
  above, if I create a reservation from 2:00am to 3:00am, then Reservation A's
  start time is before Reservation B's end time, but there is no overlap.
  Therefore, the overlap scenario is an AND of the two, not an OR.
</p>
<p>
  A query would look like the following:

<pre>
SELECT * FROM reservations WHERE reservation.end > {10:00pm} AND
reservation.start < {1:00am}
</pre>
</p>
<p>
  This query would return all the results that result in a conflict. If no results
  are returned, there aren't any conflicts. Since the entire result set is being
  returned, one could even show an end user the times that are booked.
</p>

    </div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
  </body>
</html>
